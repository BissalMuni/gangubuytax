{
  "id": "data_integrity_validation",
  "title": "데이터 무결성 검증 규칙",
  "description": "세율 데이터의 정확성과 일관성을 보장하기 위한 검증 규칙",
  "last_updated": "2024-08-24",
  "validation_rules": {
    "rate_validation": {
      "title": "세율 값 검증",
      "rules": [
        {
          "rule_id": "RATE_001",
          "description": "세율은 0% 이상 12% 이하여야 함",
          "validation_logic": "rate >= 0.0 AND rate <= 12.0",
          "error_message": "세율은 0%에서 12% 사이여야 합니다",
          "severity": "error"
        },
        {
          "rule_id": "RATE_002",
          "description": "세율 형식은 소수점 첫째 자리까지만 허용",
          "validation_logic": "REGEX: ^\\d+\\.\\d{1}%$",
          "error_message": "세율은 소수점 첫째 자리까지만 입력 가능합니다 (ex: 4.0%)",
          "severity": "warning"
        },
        {
          "rule_id": "RATE_003",
          "description": "지방교육세는 취득세의 10%를 초과할 수 없음",
          "validation_logic": "local_education_rate <= acquisition_rate * 0.1",
          "error_message": "지방교육세율이 취득세율의 10%를 초과합니다",
          "severity": "error"
        },
        {
          "rule_id": "RATE_004",
          "description": "농특세는 취득세의 20%를 초과할 수 없음",
          "validation_logic": "agricultural_rate <= acquisition_rate * 0.2",
          "error_message": "농특세율이 취득세율의 20%를 초과합니다",
          "severity": "error"
        }
      ]
    },
    "structure_validation": {
      "title": "데이터 구조 검증",
      "rules": [
        {
          "rule_id": "STRUCT_001",
          "description": "필수 필드 존재 검증",
          "required_fields": ["id", "title", "rates", "legal_basis", "effective_date"],
          "validation_logic": "ALL_REQUIRED_FIELDS_PRESENT",
          "error_message": "필수 필드가 누락되었습니다",
          "severity": "error"
        },
        {
          "rule_id": "STRUCT_002",
          "description": "ID 유니크 검증",
          "validation_logic": "UNIQUE_ACROSS_ALL_FILES",
          "error_message": "중복되는 ID가 발견되었습니다",
          "severity": "error"
        },
        {
          "rule_id": "STRUCT_003", 
          "description": "날짜 형식 검증",
          "validation_logic": "REGEX: ^\\d{4}-\\d{2}-\\d{2}$",
          "error_message": "날짜 형식이 YYYY-MM-DD가 아닙니다",
          "severity": "error"
        }
      ]
    },
    "consistency_validation": {
      "title": "데이터 일관성 검증", 
      "rules": [
        {
          "rule_id": "CONS_001",
          "description": "같은 카테고리 내 세율 일관성 검증",
          "validation_logic": "CROSS_FILE_RATE_CONSISTENCY",
          "error_message": "동일 카테고리 내에 상충되는 세율이 있습니다",
          "severity": "warning"
        },
        {
          "rule_id": "CONS_002",
          "description": "법적 근거 참조 검증",
          "validation_logic": "LEGAL_BASIS_REFERENCE_EXISTS",
          "error_message": "참조된 법적 근거가 존재하지 않습니다",
          "severity": "warning"
        }
      ]
    }
  },
  "validation_levels": {
    "strict": {
      "description": "모든 규칙을 엄격히 적용",
      "includes": ["error", "warning", "info"],
      "fail_on": ["error"]
    },
    "standard": {
      "description": "일반적인 검증 수준",
      "includes": ["error", "warning"],
      "fail_on": ["error"]
    },
    "lenient": {
      "description": "기본적인 오류만 검사",
      "includes": ["error"],
      "fail_on": ["error"]
    }
  },
  "validation_procedures": {
    "pre_commit": {
      "description": "커밋 전 자동 검증",
      "validation_level": "standard",
      "automated": true
    },
    "release": {
      "description": "릴리스 전 전체 검증",
      "validation_level": "strict",
      "automated": true,
      "manual_review": true
    },
    "periodic": {
      "description": "주기적 데이터 무결성 검사",
      "frequency": "weekly",
      "validation_level": "standard"
    }
  },
  "error_handling": {
    "validation_failure": {
      "log_location": "logs/validation_errors.log",
      "notification": true,
      "auto_rollback": true
    },
    "data_corruption": {
      "backup_restore": true,
      "incident_report": true,
      "emergency_contact": "admin@gangubuytax.com"
    }
  }
}